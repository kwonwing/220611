{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CustomerDataService from \"@/services/CustomerDataService\";\n/* eslint-disable */\n\nexport default {\n  name: \"customers\",\n  data: function data() {\n    return {\n      customers: [],\n      currentCustomers: null,\n      currentIndex: -1,\n      //TODO: title -> searchTitle\n      searchEmail: \"\",\n      //  TODO: 아래 변수 4개 추가\n      page: 1,\n      count: 0,\n      //pageSize :페이지당 건수\n      pageSize: 3,\n      //페이지당 건수(3,6,9건수)\n      pageSizes: [1, 6, 9]\n    };\n  },\n  methods: {\n    // 모든 회원 조회 서비스 호출\n    //TODO: getRequestParams 추가 (springboot쪽으로 URL params 전송 )\n    // http://localhost:8000/api/tutorials?title=''&page=1&size=3\n    getRequestParams: function getRequestParams(searchEmail, page, pageSize) {\n      var params = {}; //searchTitle 값이 있으면 params객체에 title 로 저장\n\n      if (searchEmail) {\n        params[\"email\"] = searchEmail;\n      } //page 값이 있으면 params객체에 page 로 저장\n\n\n      if (page) {\n        params[\"page\"] = page - 1;\n      } //pageSize 값이 있으면 params객체에 size 로 저장\n\n\n      if (pageSize) {\n        params[\"size\"] = pageSize;\n      }\n\n      return params;\n    },\n    // TODO : 아래 메소드 수정\n    // TODO : getAll() => getAll(params)\n    retrieveCustomers: function retrieveCustomers() {\n      var _this = this;\n\n      var params = this.getRequestParams(this.searchEmail, this.page, this.pageSize); //TODO : 백엔드 쪽으로 전체 데이터 요청 (페이징 처리)\n\n      CustomerDataService.getAll(params).then(function (response) {\n        // TODO: 아래 수정\n        // 임시 변수 tutorials, totalItems (서버의 결과 데이터가 들어옴)\n        var _response$data = response.data,\n            customers = _response$data.customers,\n            totalItems = _response$data.totalItems;\n        _this.customers = customers; // 객체\n\n        _this.count = totalItems; // 총건수\n\n        console.log(response.data);\n      })[\"catch\"](function (e) {\n        console.log(e);\n      });\n    },\n    // TODO: 메소드 2개 추가 handlePageChange , handlePageSizeChange\n    //역할: 현재페이지 번호에 해당하는 데이터 다시 조회\n    handlePageChange: function handlePageChange(value) {\n      //페이지번호 저장\n      this.page = value; //다시 조회\n\n      this.retrieveCustomers();\n    },\n    //역할: 페이지당 건수가 변경되면 다시 조회하는 메소드\n    handlePageSizeChange: function handlePageSizeChange(event) {\n      //select 박스 변경시 값 가져옴 (이벤트로 가져옴)\n      //한 페이지당 건수 저장\n      this.pageSize = event.target.value; //첫페이지 초기화?\n\n      this.page = 1; //다시 조회\n\n      this.retrieveCustomers();\n    },\n    refreshList: function refreshList() {\n      this.retrieveCustomers();\n      this.currentCustomers = null;\n      this.currentIndex = -1;\n    },\n    setActiveCustomers: function setActiveCustomers(customers, index) {\n      this.currentCustomers = customers;\n      this.currentIndex = index;\n    } // removeAllTutorials() {\n    //   TutorialDataService.deleteAll()\n    //     .then(response => {\n    //       console.log(response.data);\n    //       this.refreshList();\n    //     })\n    //     .catch(e => {\n    //       console.log(e);\n    //     });\n    // },\n\n  },\n  //화면이 뜨자마자 실행되는 이벤트(모든 회원조회가 실행됨)\n  mounted: function mounted() {\n    this.retrieveCustomers();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AAEA;;AACA;EACAA,iBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,sBAFA;MAGAC,gBAHA;MAIA;MACAC,eALA;MAMA;MACAC,OAPA;MAQAC,QARA;MASA;MACAC,WAVA;MAWA;MACAC;IAZA;EAcA,CAjBA;EAkBAC;IACA;IACA;IACA;IACAC,gBAJA,4BAIAN,WAJA,EAIAC,IAJA,EAIAE,QAJA,EAIA;MACA,gBADA,CAEA;;MACA;QACAI;MACA,CALA,CAMA;;;MACA;QACAA;MACA,CATA,CAUA;;;MACA;QACAA;MACA;;MACA;IACA,CAnBA;IAoBA;IACA;IACAC,iBAtBA,+BAsBA;MAAA;;MACA,mCACA,gBADA,EAEA,SAFA,EAGA,aAHA,EADA,CAMA;;MACAC,mCACAC,IADA,CACA;QACA;QACA;QACA;QAAA;QAAA;QACA,4BAJA,CAIA;;QACA,yBALA,CAKA;;QAEAC;MACA,CATA,WAUA;QACAA;MACA,CAZA;IAaA,CA1CA;IA4CA;IACA;IACAC,gBA9CA,4BA8CAC,KA9CA,EA8CA;MACA;MACA,kBAFA,CAGA;;MACA;IACA,CAnDA;IAoDA;IACAC,oBArDA,gCAqDAC,KArDA,EAqDA;MACA;MACA;MACA,mCAHA,CAIA;;MACA,cALA,CAMA;;MACA;IACA,CA7DA;IA8DAC,WA9DA,yBA8DA;MACA;MACA;MACA;IACA,CAlEA;IAoEAC,kBApEA,8BAoEApB,SApEA,EAoEAqB,KApEA,EAoEA;MACA;MACA;IACA,CAvEA,CAyEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EAlFA,CAlBA;EAsGA;EACAC,OAvGA,qBAuGA;IACA;EACA;AAzGA","names":["name","data","customers","currentCustomers","currentIndex","searchEmail","page","count","pageSize","pageSizes","methods","getRequestParams","params","retrieveCustomers","CustomerDataService","then","console","handlePageChange","value","handlePageSizeChange","event","refreshList","setActiveCustomers","index","mounted"],"sourceRoot":"src/components/customermanager","sources":["CustomerList.vue"],"sourcesContent":["<template>\r\n  <div  class=\"container mt-3 \">\r\n        <!-- 페이징 추가 시작  -->\r\n    <div class=\"mb-3\">\r\n      <div class=\"col-md-8\">\r\n        <div class=\"input-group mb-3\">\r\n          <!--        TODO : 수정 시작 #1-->\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"Search by email\"\r\n            v-model=\"searchEmail\"\r\n          />\r\n          <div class=\"input-group-append\">\r\n            <button\r\n              class=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              @click=\"\r\n                page = 1;\r\n                retrieveCustomers();\r\n              \"\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!--    TODO: 태그 추가 -->\r\n      <div class=\"col-md-12\">\r\n        <div class=\"mb-3\">\r\n          Items per Page :\r\n          <select v-model=\"pageSize\" @change=\"handlePageSizeChange($event)\">\r\n            <option v-for=\"size in pageSize\" :key=\"size\" :value=\"size\">\r\n              {{ size }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <!--      TODO: page bar 추가-->\r\n        <b-pagination\r\n          v-model=\"page\"\r\n          :total-rows=\"count\"\r\n          :per-page=\"pageSize\"\r\n          prev-text=\"Prev\"\r\n          next-text=\"Next\"\r\n          @change=\"handlePageChange\"\r\n        >\r\n        </b-pagination>\r\n      </div>\r\n      <!--    TODO: page bar 끝-->\r\n      <!-- <div class=\"col-md-6\">\r\n        <h4>Tutorials List</h4>\r\n        <ul class=\"list-group\">\r\n          <li\r\n            class=\"list-group-item\"\r\n            :class=\"{ active: index == currentIndex }\"\r\n            v-for=\"(tutorial, index) in tutorials\"\r\n            :key=\"index\"\r\n            @click=\"setActiveTutorial(tutorial, index)\"\r\n          >\r\n            {{ tutorial.title }}\r\n          </li>\r\n        </ul>\r\n      </div> -->\r\n    </div>\r\n    <table class=\"table\">\r\n      <thead>\r\n      <tr>\r\n        <th scope=\"col\">First Name</th>\r\n        <th scope=\"col\">Last Name</th>\r\n        <th scope=\"col\">Email</th>\r\n        <th scope=\"col\">Phone</th>\r\n        <th scope=\"col\">Actions</th>\r\n      </tr>\r\n      </thead>\r\n<!--      조회 데이터 생성 부분-->\r\n      <tbody v-for=\"(customer, index) in customers\"\r\n             :key=\"index\"\r\n        >\r\n      <tr>\r\n        <td>{{ customer.firstName }}</td>\r\n        <td>{{ customer.lastName }}</td>\r\n        <td>{{ customer.email }}</td>\r\n        <td>{{ customer.phone }}</td>\r\n        <td>\r\n          <a :href=\"'/customers/' + customer.id\" class=\"btn btn-primary\">\r\n            Edit\r\n          </a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomerDataService from \"@/services/CustomerDataService\";\r\n\r\n/* eslint-disable */\r\nexport default {\r\n  name: \"customers\",\r\n  data() {\r\n    return {\r\n      customers: [],\r\n      currentCustomers: null,\r\n      currentIndex: -1,\r\n      //TODO: title -> searchTitle\r\n      searchEmail: \"\",\r\n      //  TODO: 아래 변수 4개 추가\r\n      page: 1,\r\n      count: 0,\r\n      //pageSize :페이지당 건수\r\n      pageSize: 3,\r\n      //페이지당 건수(3,6,9건수)\r\n      pageSizes: [1, 6, 9],\r\n    }\r\n  },\r\n  methods: {\r\n    // 모든 회원 조회 서비스 호출\r\n    //TODO: getRequestParams 추가 (springboot쪽으로 URL params 전송 )\r\n    // http://localhost:8000/api/tutorials?title=''&page=1&size=3\r\n    getRequestParams(searchEmail, page, pageSize) {\r\n      let params = {};\r\n      //searchTitle 값이 있으면 params객체에 title 로 저장\r\n      if (searchEmail) {\r\n        params[\"email\"] = searchEmail;\r\n      }\r\n      //page 값이 있으면 params객체에 page 로 저장\r\n      if (page) {\r\n        params[\"page\"] = page - 1;\r\n      }\r\n      //pageSize 값이 있으면 params객체에 size 로 저장\r\n      if (pageSize) {\r\n        params[\"size\"] = pageSize;\r\n      }\r\n      return params;\r\n    },\r\n    // TODO : 아래 메소드 수정\r\n    // TODO : getAll() => getAll(params)\r\n    retrieveCustomers() {\r\n      const params = this.getRequestParams(\r\n        this.searchEmail,\r\n        this.page,\r\n        this.pageSize\r\n      );\r\n      //TODO : 백엔드 쪽으로 전체 데이터 요청 (페이징 처리)\r\n      CustomerDataService.getAll(params)\r\n        .then((response) => {\r\n          // TODO: 아래 수정\r\n          // 임시 변수 tutorials, totalItems (서버의 결과 데이터가 들어옴)\r\n          const { customers, totalItems } = response.data;\r\n          this.customers = customers; // 객체\r\n          this.count = totalItems; // 총건수\r\n\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    // TODO: 메소드 2개 추가 handlePageChange , handlePageSizeChange\r\n    //역할: 현재페이지 번호에 해당하는 데이터 다시 조회\r\n    handlePageChange(value) {\r\n      //페이지번호 저장\r\n      this.page = value;\r\n      //다시 조회\r\n      this.retrieveCustomers();\r\n    },\r\n    //역할: 페이지당 건수가 변경되면 다시 조회하는 메소드\r\n    handlePageSizeChange(event) {\r\n      //select 박스 변경시 값 가져옴 (이벤트로 가져옴)\r\n      //한 페이지당 건수 저장\r\n      this.pageSize = event.target.value;\r\n      //첫페이지 초기화?\r\n      this.page = 1;\r\n      //다시 조회\r\n      this.retrieveCustomers();\r\n    },\r\n    refreshList() {\r\n      this.retrieveCustomers();\r\n      this.currentCustomers = null;\r\n      this.currentIndex = -1;\r\n    },\r\n\r\n    setActiveCustomers(customers, index) {\r\n      this.currentCustomers = customers;\r\n      this.currentIndex = index;\r\n    },\r\n\r\n    // removeAllTutorials() {\r\n    //   TutorialDataService.deleteAll()\r\n    //     .then(response => {\r\n    //       console.log(response.data);\r\n    //       this.refreshList();\r\n    //     })\r\n    //     .catch(e => {\r\n    //       console.log(e);\r\n    //     });\r\n    // },\r\n  },\r\n  //화면이 뜨자마자 실행되는 이벤트(모든 회원조회가 실행됨)\r\n  mounted() {\r\n    this.retrieveCustomers();\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}