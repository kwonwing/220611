{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CustomerDataService from \"@/services/CustomerDataService\";\nimport Tutorial from '../tutorials/Tutorial.vue';\nimport AddTutorial from '../tutorials/AddTutorial.vue';\nimport TutorialsList from '../tutorials/TutorialsList.vue';\nexport default {\n  components: {\n    Tutorial: Tutorial,\n    AddTutorial: AddTutorial,\n    TutorialsList: TutorialsList\n  },\n  name: \"add-customer\",\n  data: function data() {\n    // 객체 , 변수 초기화\n    return {\n      customer: {\n        id: null,\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        phone: \"\"\n      },\n      submitted: false\n    };\n  },\n  methods: {\n    // 저장 메소드 호출\n    saveCustomer: function saveCustomer() {\n      var _this = this;\n\n      //  회원 임시 객체 만들기\n      var data = {\n        firstName: this.customer.firstName,\n        lastName: this.customer.lastName,\n        email: this.customer.email,\n        phone: this.customer.phone\n      }; //  임시 회원 객체를 서버쪽으로 전달해서 DB에 insert 요청\n\n      CustomerDataService.create(data) //  성공하면 then으로 들어옴\n      .then(function (response) {\n        _this.customer.id = response.data.id;\n        _this.submitted = true; // DB insert 성공\n      }) //  실패하면 catch으로 에러메세지가 들어옴\n      [\"catch\"](function (e) {\n        alert(e);\n      });\n    },\n    // 새 회원가입을 위한 빈 form을 만드는 메소드(변수 초기화)\n    newCustomer: function newCustomer() {\n      this.submitted = false;\n      this.customer = {};\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AAEA;EACAA;IAAAC;IAAAC;IAAAC;EAAA,CADA;EAEAC,oBAFA;EAGAC,IAHA,kBAGA;IACA;IACA;MACAC;QACAC,QADA;QAEAC,aAFA;QAGAC,YAHA;QAIAC,SAJA;QAKAC;MALA,CADA;MAQAC;IARA;EAUA,CAfA;EAgBAC;IACA;IACAC,YAFA,0BAEA;MAAA;;MACA;MACA;QACAN,kCADA;QAEAC,gCAFA;QAGAC,0BAHA;QAIAC;MAJA,EAFA,CAQA;;MACAI,iCACA;MADA,CAEAC,IAFA,CAEA;QACA;QACA,uBAFA,CAEA;MACA,CALA,EAMA;MANA,UAOA;QACAC;MACA,CATA;IAWA,CAtBA;IAuBA;IACAC,WAxBA,yBAwBA;MACA;MACA;IACA;EA3BA;AAhBA","names":["components","Tutorial","AddTutorial","TutorialsList","name","data","customer","id","firstName","lastName","email","phone","submitted","methods","saveCustomer","CustomerDataService","then","alert","newCustomer"],"sourceRoot":"src/components/customermanager","sources":["AddCustomer.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"container mt-3 \" >\r\n\r\n  <div class=\"list row\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"input-group mb-3\">\r\n<!--        TODO : 수정 시작 #1-->\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by title\"\r\n          v-model=\"searchTitle\"/>\r\n        <div class=\"input-group-append\">\r\n          <button\r\n              class=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              @click=\"page=1; retrieveTutorials();\"\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n<!--    TODO: 태그 추가 -->\r\n    <div class=\"col-md-12\">\r\n      <div class=\"mb-3\">\r\n        Items per Page :\r\n        <select v-model=\"pageSize\"\r\n                @change=\"handlePageSizeChange($event)\">\r\n          <option v-for=\"size in pageSize\"\r\n                  :key=\"size\"\r\n                  :value=\"size\"\r\n                  >\r\n            {{size}}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n<!--      TODO: page bar 추가-->\r\n      <b-pagination\r\n          v-model=\"page\"\r\n          :total-rows=\"count\"\r\n          :per-page=\"pageSize\"\r\n          prev-text=\"Prev\"\r\n          next-text=\"Next\"\r\n          @change=\"handlePageChange\"\r\n          >\r\n\r\n      </b-pagination>\r\n    </div>\r\n<!--    TODO: page bar 끝-->\r\n    <div class=\"col-md-6\">\r\n      <h4>Tutorials List</h4>\r\n      <ul class=\"list-group\">\r\n        <li class=\"list-group-item\"\r\n          :class=\"{ active: index == currentIndex }\"\r\n          v-for=\"(tutorial, index) in tutorials\"\r\n          :key=\"index\"\r\n          @click=\"setActiveTutorial(tutorial, index)\"\r\n        >\r\n          {{ tutorial.title }}\r\n        </li>\r\n      </ul>\r\n      \r\n    <!--    새 회원가입일 경우 submitted = false -->\r\n    <div v-if=\"!submitted\">\r\n      <div class=\"mb-3\">\r\n        <label for=\"firstName\" class=\"form-label\">First Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"firstName\" required name=\"firstName\" v-model=\"customer.firstName\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"lastName\" class=\"form-label\">Last Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"lastName\" required name=\"lastName\" v-model=\"customer.lastName\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"email\" class=\"form-label\">Email</label>\r\n        <input type=\"email\" class=\"form-control\" id=\"email\" required name=\"email\" v-model=\"customer.email\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"phone\" class=\"form-label\">Phone</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"phone\" required name=\"phone\" v-model=\"customer.phone\">\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <button @click=\"saveCustomer\" class=\"btn btn-primary\">Submit</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <div class=\"alert alert-success\" role=\"alert\">\r\n        Save customer successfully!\r\n      </div>\r\n      <button @click=\"newCustomer\" class=\"btn btn-primary\">Add New Customer</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CustomerDataService from \"@/services/CustomerDataService\";\r\nimport Tutorial from '../tutorials/Tutorial.vue';\r\nimport AddTutorial from '../tutorials/AddTutorial.vue';\r\nimport TutorialsList from '../tutorials/TutorialsList.vue';\r\n\r\nexport default {\r\n  components: { Tutorial, AddTutorial, TutorialsList },\r\n  name: \"add-customer\",\r\n  data() {\r\n    // 객체 , 변수 초기화\r\n    return {\r\n      customer: {\r\n        id: null,\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        phone: \"\"\r\n      },\r\n      submitted: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 저장 메소드 호출\r\n    saveCustomer() {\r\n      //  회원 임시 객체 만들기\r\n      var data = {\r\n        firstName: this.customer.firstName,\r\n        lastName: this.customer.lastName,\r\n        email: this.customer.email,\r\n        phone: this.customer.phone\r\n      }\r\n      //  임시 회원 객체를 서버쪽으로 전달해서 DB에 insert 요청\r\n      CustomerDataService.create(data)\r\n          //  성공하면 then으로 들어옴\r\n          .then(response => {\r\n            this.customer.id = response.data.id;\r\n            this.submitted = true; // DB insert 성공\r\n          })\r\n          //  실패하면 catch으로 에러메세지가 들어옴\r\n          .catch(e => {\r\n            alert(e);\r\n          })\r\n\r\n    },\r\n    // 새 회원가입을 위한 빈 form을 만드는 메소드(변수 초기화)\r\n    newCustomer() {\r\n      this.submitted = false;\r\n      this.customer = {};\r\n    }\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}